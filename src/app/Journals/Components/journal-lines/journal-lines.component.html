<div class="journal-lines-container" *ngIf="!loading && journalData; else loadingTpl">
  <!-- ===== HEADER INFO ===== -->
  <div class="journal-header">
    <div class="header-info">
      <div class="info-card">
        <h4>{{ 'JOURNAL_NUMBER' | translate | async }}</h4>
        <p>{{ journalData.entry.entryNumber }}</p>
      </div>
      <div class="info-card">
        <h4>{{ 'DATE' | translate | async }}</h4>
        <p>{{ journalData.entry.date | date: 'mediumDate' }}</p>
      </div>
      <div class="info-card">
        <h4>{{ 'STATUS' | translate | async }}</h4>
        <p>
          <span [class.posted]="journalData.entry.posted" [class.unposted]="!journalData.entry.posted">
            {{ (journalData.entry.posted ? ('POSTED' | translate) : ('UNPOSTED' | translate)) | async }}
          </span>
        </p>
      </div>
    </div>

    <div class="desc-box">
      <h3>{{ 'DESCRIPTION' | translate | async }}</h3>
      <p>{{ journalData.entry.description }}</p>
    </div>
  </div>

  <!-- ===== TABLE SECTION ===== -->
  <div class="lines-table-wrapper">
    <table class="styled-table">
      <thead>
        <tr>
          <th>{{ 'TABLE_HEADER_ID' | translate | async }}</th>
          <th>{{ 'ACCOUNT_NAME' | translate | async }}</th>
          <th>{{ 'DESCRIPTION' | translate | async }}</th>
          <th>{{ 'DEBIT' | translate | async }}</th>
          <th>{{ 'CREDIT' | translate | async }}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let line of journalData.lines; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ line.accountName }}</td>
          <td>{{ line.description || '-' }}</td>
          <td>{{ line.debit | number: '1.2-2' }}</td>
          <td>{{ line.credit | number: '1.2-2' }}</td>
        </tr>
      </tbody>

      <tfoot>
        <tr class="totals-row">
          <td colspan="3" class="totals-label">{{ 'TOTALS' | translate | async }}</td>
          <td class="totals-debit">{{ totalDebit | number: '1.2-2' }}</td>
          <td class="totals-credit">{{ totalCredit | number: '1.2-2' }}</td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>

<!-- ===== LOADING STATE ===== -->
<ng-template #loadingTpl>
  <div class="text-center">
  <mat-spinner diameter="48"></mat-spinner>
  <p>{{ 'LOADING_JOURNAL_DETAILS' | translate | async }}</p>
  </div>
</ng-template>